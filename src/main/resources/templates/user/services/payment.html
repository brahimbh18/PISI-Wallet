<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment - PISI ONLINE BANK</title>
    <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="/dashboard.css">
    <link rel="stylesheet" href="/payment.css">
</head>
<body>
    <div class="header">
  <h1>PISI WALLET</h1>
    </div>

    <section>
        <div class="nav">
            <ul>
                <li>
                    <img src="/icons/home.png">
                    <span><a th:href="@{/user/home}">Home</a></span>
                </li>
                <li>
                    <img src="/icons/news.png">
                    <span><a th:href="@{/user/news}">News</a></span>
                </li>
            </ul>

            <ul>
                <li>
                    <img src="/icons/settings.png">
                    <span>Settings</span>
                </li>
                <li>
                    <img src="/icons/logout.png">
                    <span><a th:href="@{/user/logout}">Logout</a></span>
                </li>
            </ul>
        </div>

        <div class="board">
            <h2>Make a Payment</h2>
        
            <!-- Display error message if it exists -->
            <div th:if="${errorMessage}" class="error-message">
                <p th:text="${errorMessage}"></p>
            </div>

            <div class="payment-form-container">
                <form class="payment-form" action="payment" method="post">
                    <div class="form-group">
                        <label for="service">Service</label>
                        <select id="service" name="service" onchange="toggleCustomService()" required>
                            <option value="">Select a service</option>
                            <option value="electricity">Electricity</option>
                            <option value="water">Water</option>
                            <option value="internet">Internet</option>
                            <option value="phone">Phone</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <div class="form-group" id="customServiceGroup" style="display: none;">
                        <label for="customService">Service Name</label>
                        <input type="text" id="customService" name="customService" placeholder="Enter service name" required>
                    </div>

                    <div class="form-group">
                        <label for="amount">Amount (TND)</label>
                        <input type="number" id="amount" name="amount" step="0.01" required>
                    </div>

                    <button type="submit" class="submit-btn">Confirm Payment</button>
                </form>
            </div>
        </div>
        
        </div>
    </section>

    <script>
        function toggleCustomService() {
            const serviceSelect = document.getElementById('service');
            const customServiceGroup = document.getElementById('customServiceGroup');
            const customServiceInput = document.getElementById('customService');
            
            if (serviceSelect.value === 'other') {
                customServiceGroup.style.display = 'flex';
                customServiceInput.required = true;
            } else {
                customServiceGroup.style.display = 'none';
                customServiceInput.required = false;
                customServiceInput.value = ''; // Clear the input when hidden
            }
        }
    </script>
</body>
</html> 